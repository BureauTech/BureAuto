{"remainingRequest":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/thread-loader/dist/cjs.js!/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/babel-loader/lib/index.js!/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/Favorites/Favorites.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/Favorites/Favorites.js","mtime":1637758833886},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/babel.config.js","mtime":1637759013871},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jaGFybGVzcmFtb3MvRG9jdW1lbnRzL0F1bGFzL0J1cmVhdXRvL0J1cmVBdXRvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgVG9wYmFyIGZyb20gIkAvY29tcG9uZW50cy9Ub3BiYXIvVG9wYmFyIjsKaW1wb3J0IHJ1bGVzVXRpbHMgZnJvbSAiQC91dGlscy9ydWxlc1V0aWxzIjsKaW1wb3J0IGF4aW9zIGZyb20gIkAvYXhpb3MuanMiOwppbXBvcnQgY29uZmlnIGZyb20gIi4uLy4uL2NvbmZpZyI7CmltcG9ydCBsb2dvQnVyZWF1IGZyb20gIkAvYXNzZXRzL2J1cmVhdXRvX3NlbV9mdW5kby5wbmciOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZhdm9yaXRlcyIsCiAgY29tcG9uZW50czogewogICAgVG9wYmFyOiBUb3BiYXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmYXZzOiBbXSwKICAgICAgYWRzOiBbXSwKICAgICAgcnVsZXM6IHJ1bGVzVXRpbHMKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRGYXZzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0RmF2cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZmF2b3JpdGVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2Zhdm9yaXRlL2Zhdm9yaXRlcy8iLmNvbmNhdCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIudXNlX2NvZCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBmYXZvcml0ZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5hZHMgPSBmYXZvcml0ZXMuZGF0YS5kYXRhLm1hcChmdW5jdGlvbiAoYWQpIHsKICAgICAgICAgICAgICAgICAgaWYgKCFhZC5hZHZfaW1hZ2VzKSB7CiAgICAgICAgICAgICAgICAgICAgYWQuYWR2X2ltYWdlcyA9IGxvZ29CdXJlYXU7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWQuYWR2X2ltYWdlcyA9IGNvbmZpZy5TRVJWRVJfVVJMICsgYWQuYWR2X2ltYWdlczsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRGYXZzKCkgewogICAgICAgIHJldHVybiBfZ2V0RmF2cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0RmF2czsKICAgIH0oKSwKICAgIGRlbGV0ZUZhdjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZUZhdiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoYWR2X2NvZCwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRzdG9yZS5nZXR0ZXJzLmlzQXV0aGVudGljYXRlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoIi9mYXZvcml0ZS8iLmNvbmNhdChhZHZfY29kKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRoaXMuYWRzLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUZhdihfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9kZWxldGVGYXYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlbGV0ZUZhdjsKICAgIH0oKSwKICAgIHZpZXdBZHZlcnRpc2VtZW50OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdmlld0FkdmVydGlzZW1lbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGFkdl9jb2QpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMuaXNBdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYW51bmNpby8iLmNvbmNhdChhZHZfY29kKSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHZpZXdBZHZlcnRpc2VtZW50KF94MykgewogICAgICAgIHJldHVybiBfdmlld0FkdmVydGlzZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZpZXdBZHZlcnRpc2VtZW50OwogICAgfSgpCiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldEZhdnMoKTsKICB9Cn07"},{"version":3,"sources":["/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/Favorites/Favorites.js"],"names":["Topbar","rulesUtils","axios","config","logoBureau","name","components","data","favs","ads","rules","methods","getFavs","get","$store","getters","getUser","use_cod","favorites","map","ad","adv_images","SERVER_URL","deleteFav","adv_cod","index","isAuthenticated","delete","splice","viewAdvertisement","$router","push","beforeMount"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,4BAAnB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AAEA,eAAe;AACXC,EAAAA,IAAI,EAAE,WADK;AAEXC,EAAAA,UAAU,EAAE;AACRN,IAAAA,MAAM,EAANA;AADQ,GAFD;AAKXO,EAAAA,IAAI,EAAE,gBAAW;AACb,WAAO;AACHC,MAAAA,IAAI,EAAE,EADH;AAEHC,MAAAA,GAAG,EAAE,EAFF;AAGHC,MAAAA,KAAK,EAAET;AAHJ,KAAP;AAKH,GAXU;AAYXU,EAAAA,OAAO,EAAE;AACLC,IAAAA,OAAO;AAAA,6EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACmBV,KAAK,CAACW,GAAN,+BAAiC,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,OAApB,CAA4BC,OAA7D,EADnB;;AAAA;AACCC,gBAAAA,SADD;AAEL,qBAAKT,GAAL,GAAWS,SAAS,CAACX,IAAV,CAAeA,IAAf,CAAoBY,GAApB,CAAwB,UAAAC,EAAE,EAAI;AACrC,sBAAG,CAACA,EAAE,CAACC,UAAP,EAAmB;AACfD,oBAAAA,EAAE,CAACC,UAAH,GAAiBjB,UAAjB;AACH,mBAFD,MAEO;AACHgB,oBAAAA,EAAE,CAACC,UAAH,GAAgBlB,MAAM,CAACmB,UAAP,GAAmBF,EAAE,CAACC,UAAtC;AACH;;AACD,yBAAOD,EAAP;AACH,iBAPU,CAAX;;AAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADF;AAaLG,IAAAA,SAAS;AAAA,+EAAE,kBAAeC,OAAf,EAAwBC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,qBACH,KAAKX,MAAL,CAAYC,OAAZ,CAAoBW,eADjB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEGxB,KAAK,CAACyB,MAAN,qBAA0BH,OAA1B,EAFH;;AAAA;AAGH,qBAAKf,GAAL,CAASmB,MAAT,CAAgBH,KAAhB,EAAuB,CAAvB;;AAHG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAbJ;AAoBLI,IAAAA,iBAAiB;AAAA,uFAAE,kBAAeL,OAAf;AAAA;AAAA;AAAA;AAAA;AACf,oBAAI,KAAKV,MAAL,CAAYC,OAAZ,CAAoBW,eAAxB,EAAyC;AACrC,uBAAKI,OAAL,CAAaC,IAAb,oBAA8BP,OAA9B;AACH;;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AApBZ,GAZE;AAsCXQ,EAAAA,WAAW,EAAE,uBAAW;AACpB,SAAKpB,OAAL;AACH;AAxCU,CAAf","sourcesContent":["import Topbar from \"@/components/Topbar/Topbar\"\r\nimport rulesUtils from \"@/utils/rulesUtils\"\r\nimport axios from \"@/axios.js\"\r\nimport config from \"../../config\"\r\nimport logoBureau from \"@/assets/bureauto_sem_fundo.png\" \r\n\r\nexport default {\r\n    name: \"Favorites\",\r\n    components: {\r\n        Topbar\r\n    },\r\n    data: function() {\r\n        return {\r\n            favs: [],\r\n            ads: [],\r\n            rules: rulesUtils\r\n        }\r\n    },\r\n    methods: {\r\n        getFavs: async function() {\r\n            const favorites = await axios.get(`/favorite/favorites/${this.$store.getters.getUser.use_cod}`)\r\n            this.ads = favorites.data.data.map(ad => {\r\n                if(!ad.adv_images) {\r\n                    ad.adv_images =  logoBureau\r\n                } else {\r\n                    ad.adv_images = config.SERVER_URL+ ad.adv_images\r\n                }\r\n                return ad\r\n            })\r\n        },\r\n\r\n        deleteFav: async function(adv_cod, index) {\r\n            if (this.$store.getters.isAuthenticated) {\r\n                await axios.delete(`/favorite/${adv_cod}`)\r\n                this.ads.splice(index, 1)\r\n            }\r\n        },\r\n\r\n        viewAdvertisement: async function(adv_cod) {\r\n            if (this.$store.getters.isAuthenticated) {\r\n                this.$router.push(`/anuncio/${adv_cod}`)\r\n            }\r\n        }\r\n    },\r\n    beforeMount: function() {\r\n        this.getFavs()\r\n    }\r\n}"]}]}