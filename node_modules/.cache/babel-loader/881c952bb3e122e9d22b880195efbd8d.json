{"remainingRequest":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/thread-loader/dist/cjs.js!/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/babel-loader/lib/index.js!/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/ChangePassword/ChangePassword.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/ChangePassword/ChangePassword.js","mtime":1637758833885},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/babel.config.js","mtime":1637759013871},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jaGFybGVzcmFtb3MvRG9jdW1lbnRzL0F1bGFzL0J1cmVhdXRvL0J1cmVBdXRvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IENhcmQgZnJvbSAiQC9jb21wb25lbnRzL0NhcmQvQ2FyZC52dWUiOwppbXBvcnQgSW5wdXQgZnJvbSAiQC9jb21wb25lbnRzL0lucHV0L0lucHV0LnZ1ZSI7CmltcG9ydCBCdXR0b24gZnJvbSAiQC9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24udnVlIjsKaW1wb3J0IENvbG9yZWRWYWxpZGF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9Db2xvcmVkVmFsaWRhdGlvbi9Db2xvcmVkVmFsaWRhdGlvbi52dWUiOwppbXBvcnQgcnVsZXNVdGlscyBmcm9tICJAL3V0aWxzL3J1bGVzVXRpbHMiOwppbXBvcnQgYXhpb3MgZnJvbSAiQC9heGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoYW5nZVBhc3N3b3JkIiwKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkLAogICAgSW5wdXQ6IElucHV0LAogICAgQnV0dG9uOiBCdXR0b24sCiAgICBDb2xvcmVkVmFsaWRhdGlvbjogQ29sb3JlZFZhbGlkYXRpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydWxlczogcnVsZXNVdGlscywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIENoYW5nZVBhc3N3b3JkRm9ybTogewogICAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgICBjb25maXJtTmV3UGFzc3dvcmQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NoYW5nZVBhc3N3b3JkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkcG9zdCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy4kcmVmcy5DaGFuZ2VQYXNzd29yZEZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLmhhc0FsbFZhbGlkYXRpb24oKSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvcmVzZXQtcGFzc3dvcmQvY2hhbmdlIiwgdGhpcy5DaGFuZ2VQYXNzd29yZEZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkcG9zdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJHBvc3QuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkYXRhOiAiLmNvbmNhdChkYXRhKSk7CgogICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEF1dGgiLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0VXNlciIsIGRhdGEudXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLnN1Y2Nlc3MoIlNlbmhhIGFsdGVyYWRhIGNvbSBzdWNlc3NvISIpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLmVycm9yKCJPY29ycmV1IHVtIGVycm8gYW8gYWx0ZXJhciBzdWEgc2VuaGEiKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIwOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuZXJyb3IoIk9jb3JyZXUgdW0gZXJybyBuYSByZXF1aXNpw6fDo28iKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNDsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgyNCk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzIsIDIwLCAyNCwgMjddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKCkgewogICAgICAgIHJldHVybiBfY2hhbmdlUGFzc3dvcmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNoYW5nZVBhc3N3b3JkOwogICAgfSgpLAogICAgaGFzQWxsVmFsaWRhdGlvbjogZnVuY3Rpb24gaGFzQWxsVmFsaWRhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaGFzVXBwZXIgJiYgdGhpcy5oYXNMb3dlciAmJiB0aGlzLmhhc051bWJlciAmJiB0aGlzLmhhc1N5bWJvbCAmJiB0aGlzLmhhc01pbk1heExlbmd0aDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNVcHBlcjogZnVuY3Rpb24gaGFzVXBwZXIoKSB7CiAgICAgIHJldHVybiAvW0EtWl0vZy50ZXN0KHRoaXMuQ2hhbmdlUGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkKTsKICAgIH0sCiAgICBoYXNMb3dlcjogZnVuY3Rpb24gaGFzTG93ZXIoKSB7CiAgICAgIHJldHVybiAvW2Etel0vZy50ZXN0KHRoaXMuQ2hhbmdlUGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkKTsKICAgIH0sCiAgICBoYXNOdW1iZXI6IGZ1bmN0aW9uIGhhc051bWJlcigpIHsKICAgICAgcmV0dXJuIC9cZC9nLnRlc3QodGhpcy5DaGFuZ2VQYXNzd29yZEZvcm0ubmV3UGFzc3dvcmQpOwogICAgfSwKICAgIGhhc1N5bWJvbDogZnVuY3Rpb24gaGFzU3ltYm9sKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGUKICAgICAgcmV0dXJuIC9bIUAjJCpcLiVdL2cudGVzdCh0aGlzLkNoYW5nZVBhc3N3b3JkRm9ybS5uZXdQYXNzd29yZCk7CiAgICB9LAogICAgaGFzTWluTWF4TGVuZ3RoOiBmdW5jdGlvbiBoYXNNaW5NYXhMZW5ndGgoKSB7CiAgICAgIHZhciBsZW4gPSB0aGlzLkNoYW5nZVBhc3N3b3JkRm9ybS5uZXdQYXNzd29yZC5sZW5ndGg7CiAgICAgIHJldHVybiBsZW4gPj0gNiAmJiBsZW4gPD0gMTY7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/ChangePassword/ChangePassword.js"],"names":["Card","Input","Button","ColoredValidation","rulesUtils","axios","router","name","components","data","rules","loading","ChangePasswordForm","newPassword","confirmNewPassword","methods","changePassword","$refs","validate","hasAllValidation","post","console","log","success","$store","dispatch","user","$toasted","push","error","hasUpper","hasLower","hasNumber","hasSymbol","hasMinMaxLength","computed","test","len","length"],"mappings":"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","sourcesContent":["import Card from \"@/components/Card/Card.vue\"\nimport Input from \"@/components/Input/Input.vue\"\nimport Button from \"@/components/Button/Button.vue\"\nimport ColoredValidation from \"@/components/ColoredValidation/ColoredValidation.vue\"\nimport rulesUtils from \"@/utils/rulesUtils\"\nimport axios from \"@/axios\"\nimport router from \"@/router\"\n\nexport default {\n    name: \"ChangePassword\",\n    components: {\n        Card,\n        Input,\n        Button,\n        ColoredValidation\n    },\n    data: function() {\n        return {\n            rules: rulesUtils,\n            loading: false,\n            ChangePasswordForm: {\n                newPassword: \"\",\n                confirmNewPassword: \"\"\n            }\n        }\n    },\n    methods: {\n        changePassword: async function() {\n            if (this.$refs.ChangePasswordForm.validate() && this.hasAllValidation()) {\n                this.loading = true\n                try {\n                    const {data} = await axios.post(\"/reset-password/change\", this.ChangePasswordForm)\n                    console.log(`data: ${data}`)\n                    if (data.success) {\n                        await this.$store.dispatch(\"setAuth\", true)\n                        await this.$store.dispatch(\"setUser\", data.user)\n                        this.$toasted.success(\"Senha alterada com sucesso!\")\n                        router.push({name: \"Home\"})\n                    } else {\n                        this.$toasted.error(\"Ocorreu um erro ao alterar sua senha\")\n                    }\n                } catch (error) {\n                    console.log(error)\n                    this.$toasted.error(\"Ocorreu um erro na requisição\")\n                } finally {\n                    this.loading = false\n                }\n            }\n        },\n\n        hasAllValidation: function() {\n            return this.hasUpper && this.hasLower && this.hasNumber && this.hasSymbol && this.hasMinMaxLength\n        }\n    },\n\n    computed: {\n        hasUpper: function() {\n            return /[A-Z]/g.test(this.ChangePasswordForm.newPassword)\n        },\n        hasLower: function() {\n            return /[a-z]/g.test(this.ChangePasswordForm.newPassword)\n        },\n        hasNumber: function() {\n            return /\\d/g.test(this.ChangePasswordForm.newPassword)\n        },\n        hasSymbol: function() {\n            // eslint-disable-next-line no-useless-escape\n            return /[!@#$*\\.%]/g.test(this.ChangePasswordForm.newPassword)\n        },\n        hasMinMaxLength: function() {\n            const len = this.ChangePasswordForm.newPassword.length\n            return len >= 6 && len <= 16\n        }\n    }\n}"]}]}