{"remainingRequest":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/thread-loader/dist/cjs.js!/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/babel-loader/lib/index.js!/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/Messages/Messages.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/Messages/Messages.js","mtime":1637758833888},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/babel.config.js","mtime":1637759013871},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9jaGFybGVzcmFtb3MvRG9jdW1lbnRzL0F1bGFzL0J1cmVhdXRvL0J1cmVBdXRvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jaGFybGVzcmFtb3MvRG9jdW1lbnRzL0F1bGFzL0J1cmVhdXRvL0J1cmVBdXRvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IENoYXRXaW5kb3cgZnJvbSAidnVlLWFkdmFuY2VkLWNoYXQiOwppbXBvcnQgInZ1ZS1hZHZhbmNlZC1jaGF0L2Rpc3QvdnVlLWFkdmFuY2VkLWNoYXQuY3NzIjsKaW1wb3J0IGF4aW9zIGZyb20gIkAvYXhpb3MuanMiOwppbXBvcnQgY29uZmlnIGZyb20gIi4uLy4uL2NvbmZpZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVzc2FnZSIsCiAgY29tcG9uZW50czogewogICAgQ2hhdFdpbmRvdzogQ2hhdFdpbmRvdwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJvb21zOiBbXSwKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICBjdXJyZW50VXNlcklkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIudXNlX2NvZCwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIG1lc3NhZ2VzTG9hZGVkOiBmYWxzZSwKICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICB0ZXh0TWVzc2FnZXM6IHsKICAgICAgICBST09NU19FTVBUWTogIk7Do28gaMOhIGNvbnZlcnNhcyEiLAogICAgICAgIFJPT01fRU1QVFk6ICJJbmljaWUgdW1hIGNvbnZlcnNhIGFxdWkhIiwKICAgICAgICBORVdfTUVTU0FHRVM6ICJOb3ZhcyBtZW5zYWdlbnMiLAogICAgICAgIE1FU1NBR0VTX0VNUFRZOiAiTWVuc2FnZW0gdmF6aWEiLAogICAgICAgIENPTlZFUlNBVElPTl9TVEFSVEVEOiAiSW7DrWNpbyBkYSBjb252ZXJzYToiLAogICAgICAgIFRZUEVfTUVTU0FHRTogIk1lbnNhZ2VtIiwKICAgICAgICBTRUFSQ0g6ICJQZXNxdWlzYXIiCiAgICAgIH0sCiAgICAgIHJvb21JZDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VyQ2hhdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRVc2VyQ2hhdHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIGNoYXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnJvb21JZCkgewogICAgICAgICAgICAgICAgICB0aGlzLnJvb21JZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJvb21JZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9jaGF0L3VzZXJDaGF0cy8iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY2hhdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnJvb21zID0gY2hhdC5kYXRhLmRhdGEubWFwKGZ1bmN0aW9uIChjaGF0KSB7CiAgICAgICAgICAgICAgICAgIGNoYXQgPSB7CiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiBjaGF0LmNoYV9jb2QsCiAgICAgICAgICAgICAgICAgICAgcm9vbU5hbWU6IGNoYXQuYWR2X21vZGVsX2Rlc2NyaXB0aW9uICsgIiAtICIgKyAoX3RoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlci51c2Vfbmlja25hbWUgPT09IGNoYXQudXNlX25pY2tuYW1lID8gY2hhdC5hZHZfdXNlX25pY2tuYW1lIDogY2hhdC51c2Vfbmlja25hbWUpLAogICAgICAgICAgICAgICAgICAgIGF2YXRhcjogY29uZmlnLlNFUlZFUl9VUkwgKyBjaGF0LmFkdl9pbWFnZXMsCiAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNoYXQubGFzdF9tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgc2VuZGVySWQ6IGNoYXQudXNlX25hbWUKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHVzZXJzOiBbewogICAgICAgICAgICAgICAgICAgICAgX2lkOiAwLAogICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGNoYXQudXNlX25hbWUKICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogX3RoaXMubWVzc2FnZXMKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXNMb2FkZWQgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0VXNlckNoYXRzKCkgewogICAgICAgIHJldHVybiBfZ2V0VXNlckNoYXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRVc2VyQ2hhdHM7CiAgICB9KCksCiAgICBnZXRNZXNzYWdlczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldE1lc3NhZ2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciByb29tLCBtZXNzYWdlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb29tID0gX3JlZi5yb29tOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL21lc3NhZ2UvbWVzc2FnZXMvIi5jb25jYXQocm9vbS5yb29tSWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgbWVzc2FnZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdOwogICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhLmRhdGEubWFwKGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBfaWQ6IG1lc3NhZ2UubWVzX2NvZCwKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLm1lc190ZXh0LAogICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBtZXNzYWdlLm1lc191c2VfY29kLAogICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUobWVzc2FnZS5tZXNfY3JlYXRlZF9hdCkudG9UaW1lU3RyaW5nKCkuc2xpY2UoMCwgNSksCiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUFjdGlvbnM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVJlYWN0aW9uczogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlc0xvYWRlZCA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldE1lc3NhZ2VzKF94KSB7CiAgICAgICAgcmV0dXJuIF9nZXRNZXNzYWdlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0TWVzc2FnZXM7CiAgICB9KCksCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlbmRNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmMikgewogICAgICAgIHZhciBjb250ZW50LCByb29tSWQsIG5ld01lc3NhZ2UsIGluZGV4T2ZDaGF0V2l0aE5ld01lc3NhZ2UsIGNoYXRXaXRoTmV3TWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29udGVudCA9IF9yZWYyLmNvbnRlbnQsIHJvb21JZCA9IF9yZWYyLnJvb21JZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNhdmVNZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY29udGVudCwKICAgICAgICAgICAgICAgICAgY2hhX2NvZDogcm9vbUlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgbmV3TWVzc2FnZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoInNlbmRNZXNzYWdlIiwgbmV3TWVzc2FnZSk7IC8vUmVvcmRlbmFyIGNoYXRzIGFww7NzIGVudmlvIGRlIG1lbnNhZ2VtCgogICAgICAgICAgICAgICAgaW5kZXhPZkNoYXRXaXRoTmV3TWVzc2FnZSA9IHRoaXMucm9vbXMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlLnJvb21JZDsKICAgICAgICAgICAgICAgIH0pLmluZGV4T2Yocm9vbUlkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4T2ZDaGF0V2l0aE5ld01lc3NhZ2UpOwogICAgICAgICAgICAgICAgY2hhdFdpdGhOZXdNZXNzYWdlID0gdGhpcy5yb29tc1tpbmRleE9mQ2hhdFdpdGhOZXdNZXNzYWdlXTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYXRXaXRoTmV3TWVzc2FnZSk7CiAgICAgICAgICAgICAgICB0aGlzLnJvb21zLnNwbGljZShpbmRleE9mQ2hhdFdpdGhOZXdNZXNzYWdlLCAxKTsKICAgICAgICAgICAgICAgIHRoaXMucm9vbXMuc3BsaWNlKDAsIDAsIGNoYXRXaXRoTmV3TWVzc2FnZSk7CiAgICAgICAgICAgICAgICB0aGlzLmdldE1lc3NhZ2VzKHsKICAgICAgICAgICAgICAgICAgY29udGVudDogY29udGVudCwKICAgICAgICAgICAgICAgICAgcm9vbUlkOiByb29tSWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9zZW5kTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2VuZE1lc3NhZ2U7CiAgICB9KCksCiAgICBzYXZlTWVzc2FnZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NhdmVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChtZXNzYWdlKSB7CiAgICAgICAgdmFyIF95aWVsZCRheGlvcyRwb3N0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi9tZXNzYWdlL2NyZWF0ZS8iLCBtZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJHBvc3QgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkcG9zdC5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmVNZXNzYWdlKF94MykgewogICAgICAgIHJldHVybiBfc2F2ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmVNZXNzYWdlOwogICAgfSgpCiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldFVzZXJDaGF0cygpOwogICAgdGhpcy5tZXNzYWdlc0xvYWRlZCA9IHRydWU7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kc29ja2V0LmRpc2Nvbm5lY3QoKTsKICAgIHRoaXMuJHNvY2tldC5jb25uZWN0KCk7CiAgfSwKICBzb2NrZXRzOiB7CiAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLnJvb21zLmZvckVhY2goZnVuY3Rpb24gKGNoYXQpIHsKICAgICAgICBfdGhpczMuJHNvY2tldC5lbWl0KCJqb2luUm9vbSIsIGNoYXQucm9vbUlkKTsKICAgICAgfSk7CiAgICB9LAogICAgZGlzY29ubmVjdDogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHsKICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgfSwKICAgIGdldE1lc3NhZ2VTZW50OiBmdW5jdGlvbiBnZXRNZXNzYWdlU2VudChtZXNzYWdlKSB7CiAgICAgIG1lc3NhZ2UgPSB7CiAgICAgICAgX2lkOiBtZXNzYWdlLm1lc19jb2QsCiAgICAgICAgcm9vbUlkOiBtZXNzYWdlLm1lc19jaGFfY29kLAogICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UubWVzX3RleHQsCiAgICAgICAgc2VuZGVySWQ6IG1lc3NhZ2UubWVzX3VzZV9jb2QsCiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShtZXNzYWdlLm1lc19jcmVhdGVkX2F0KS50b1RpbWVTdHJpbmcoKS5zbGljZSgwLCA1KSwKICAgICAgICBkaXNhYmxlQWN0aW9uczogdHJ1ZSwKICAgICAgICBkaXNhYmxlUmVhY3Rpb25zOiB0cnVlCiAgICAgIH07CiAgICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnJvb21zKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGNoYXQgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAoY2hhdC5yb29tSWQgPT09IG1lc3NhZ2Uucm9vbUlkKSB7CiAgICAgICAgICAgIGNoYXQubGFzdE1lc3NhZ2UuY29udGVudCA9IG1lc3NhZ2UuY29udGVudDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/charlesramos/Documents/Aulas/Bureauto/BureAuto/src/views/Messages/Messages.js"],"names":["ChatWindow","axios","config","name","components","data","rooms","messages","currentUserId","$store","getters","getUser","use_cod","message","messagesLoaded","isConnected","textMessages","ROOMS_EMPTY","ROOM_EMPTY","NEW_MESSAGES","MESSAGES_EMPTY","CONVERSATION_STARTED","TYPE_MESSAGE","SEARCH","roomId","methods","getUserChats","$route","query","get","chat","map","cha_cod","roomName","adv_model_description","use_nickname","adv_use_nickname","avatar","SERVER_URL","adv_images","lastMessage","content","last_message","senderId","use_name","users","_id","username","getMessages","room","push","mes_cod","mes_text","mes_use_cod","timestamp","Date","mes_created_at","toTimeString","slice","disableActions","disableReactions","sendMessage","saveMessage","newMessage","$socket","emit","indexOfChatWithNewMessage","e","indexOf","console","log","chatWithNewMessage","splice","post","success","beforeMount","mounted","disconnect","connect","sockets","forEach","getMessageSent","mes_cha_cod"],"mappings":"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","sourcesContent":["import ChatWindow from \"vue-advanced-chat\"\nimport \"vue-advanced-chat/dist/vue-advanced-chat.css\"\nimport axios from \"@/axios.js\"\nimport config from \"../../config\"\n\nexport default {\n    name: \"Message\",\n    components: {\n        ChatWindow\n    },\n    data() {\n        return {\n            rooms: [],\n            messages: [],\n            currentUserId: this.$store.getters.getUser.use_cod,\n            message: \"\",\n            messagesLoaded: false,\n            isConnected: false,\n            textMessages: {\n                ROOMS_EMPTY: \"Não há conversas!\",\n                ROOM_EMPTY: \"Inicie uma conversa aqui!\",\n                NEW_MESSAGES: \"Novas mensagens\",\n                MESSAGES_EMPTY: \"Mensagem vazia\",\n                CONVERSATION_STARTED: \"Início da conversa:\",\n                TYPE_MESSAGE: \"Mensagem\",\n                SEARCH: \"Pesquisar\"\n            },\n            roomId: \"\"\n        }\n    },\n    methods: {\n        getUserChats: async function() {\n            if (this.$route.query.roomId) {\n                this.roomId = this.$route.query.roomId\n            }\n            const chat = await axios.get(\"/chat/userChats/\")\n            this.rooms = chat.data.data.map((chat) => {\n                chat = {\n                    roomId: chat.cha_cod,\n                    roomName:\n            chat.adv_model_description +\n            \" - \" +\n            (this.$store.getters.getUser.use_nickname === chat.use_nickname\n                ? chat.adv_use_nickname\n                : chat.use_nickname),\n                    avatar: config.SERVER_URL + chat.adv_images,\n                    lastMessage: {\n                        content: chat.last_message,\n                        senderId: chat.use_name\n                    },\n                    users: [{\n                        _id: 0,\n                        username: chat.use_name\n                    }],\n                    messages: this.messages\n                }\n                return chat\n            })\n            this.messagesLoaded = true\n        },\n\n        getMessages: async function({room}) {\n            const message = await axios.get(`/message/messages/${room.roomId}`)\n            this.messages = []\n            message.data.data.map((message) => {\n                this.messages.push({\n                    _id: message.mes_cod,\n                    content: message.mes_text,\n                    senderId: message.mes_use_cod,\n                    timestamp: new Date(message.mes_created_at)\n                        .toTimeString()\n                        .slice(0, 5),\n                    disableActions: true,\n                    disableReactions: true\n                })\n\n                return\n            })\n\n            this.messagesLoaded = true\n        },\n        sendMessage: async function({content, roomId}) {\n            const newMessage = await this.saveMessage({\n                message: content,\n                cha_cod: roomId\n            })\n            this.$socket.emit(\"sendMessage\", newMessage)\n            //Reordenar chats após envio de mensagem\n            const indexOfChatWithNewMessage = this.rooms.map(e => e.roomId).indexOf(roomId)\n            console.log(indexOfChatWithNewMessage)\n            const chatWithNewMessage = this.rooms[indexOfChatWithNewMessage]\n            console.log(chatWithNewMessage)\n            this.rooms.splice(indexOfChatWithNewMessage, 1)\n            this.rooms.splice(0, 0, chatWithNewMessage)\n            this.getMessages({content, roomId})\n        },\n        saveMessage: async function(message) {\n            const {data} = await axios.post(\"/message/create/\", message)\n            if (data.success) {\n                return data.data\n            }\n        }\n    },\n    beforeMount: function() {\n        this.getUserChats()\n        this.messagesLoaded = true\n    },\n    mounted: function() {\n        this.$socket.disconnect()\n        this.$socket.connect()\n    },\n\n    sockets: {\n        connect: function() {\n            this.isConnected = true\n            this.rooms.forEach((chat) => {\n                this.$socket.emit(\"joinRoom\", chat.roomId)\n            })\n        },\n        disconnect: function() {\n            this.isConnected = false\n        },\n        getMessageSent: function(message) {\n            message = {\n                _id: message.mes_cod,\n                roomId: message.mes_cha_cod,\n                content: message.mes_text,\n                senderId: message.mes_use_cod,\n                timestamp: new Date(message.mes_created_at).toTimeString().slice(0, 5),\n                disableActions: true,\n                disableReactions: true\n            }\n            this.messages.push(message)\n\n            for (const chat of this.rooms) {\n                if (chat.roomId === message.roomId) {\n                    chat.lastMessage.content = message.content\n                    break\n                }\n            }\n        }\n    }\n}\n"]}]}